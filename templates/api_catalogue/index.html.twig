{% extends 'base.html.twig' %}

{% block title %}API Catalogue{% endblock %}

{% block body %}
    <div class="container">
        <h1>API Catalogue</h1>

        <div id="vehicles-list">
            <!-- Aquí se mostrarán los datos de los vehículos -->
        </div>
    </div>

    <script>
        // Realizar una solicitud GET a la API
        fetch('/api/v1/catalogo/vehicles?page=2')
            .then(response => response.json())
            .then(data => {
                const vehiclesList = document.getElementById('vehicles-list');

                // Iterar sobre los datos de los vehículos y mostrarlos en la página
                data.items.forEach(vehicle => {
                    const vehicleDiv = document.createElement('div');
                    vehicleDiv.innerHTML = `
                    <h3>${vehicle.title}</h3>
                    <p>${vehicle.description}</p>
                    <!-- Agregar más datos según sea necesario -->
                `;
                    vehiclesList.appendChild(vehicleDiv);
                });
            })
            .catch(error => {
                console.error('Error al obtener los datos de la API:', error);
            });
    </script>
{% endblock %}
